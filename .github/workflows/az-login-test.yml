name: Azure login test
run-name: Azure login test

on:
  workflow_dispatch:
  # push:
  #   branches:
  #     - main

jobs:
  azure_login:
    name: Azure login
    runs-on: ubuntu-latest
    steps:
      - name: Azure CLI script
        uses: azure/cli@v2
        with:
          azcliversion: latest
          inlineScript: |
            az account list

      - name: Login to Azure
        uses: azure/login@v2
        with:
          creds: ${{ secrets.AZURE_CREDENTIALS }}

      - name: Azure CLI script
        uses: azure/cli@v2
        with:
          azcliversion: latest
          inlineScript: |
            az account list
